<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div th:fragment="stage2Content">
    <div class="card shadow-sm border-0">
        
        <div class="card-header bg-white py-3 d-flex justify-content-between">
            <h6 class="m-0 fw-bold text-primary">CHECKLIST STAGE 3</h6>
            <span class="badge bg-primary rounded-pill" th:text="${elementos_stage3.size()} + ' Puntos'">23 Puntos</span>
        </div>

        <div class="table-responsive">
            <table class="table align-middle mb-0" style="table-layout: fixed; width: 100%;">
                <thead class="bg-light text-muted text-uppercase small">
                    <tr>
                        <th style="width: 11%;" class="ps-4">ID</th>
                        <th style="width: 45%;">Pregunta de Validación</th>
                        <th style="width: 15%;">Categoría</th>
                        <th style="width: 15%;" class="text-center">Cumplimiento</th>
                        <th style="width: 17%;" class="text-end pe-4">Evidencia</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="item, stat : ${elementos_stage2}">
                        <td class="ps-4 text-muted fw-bold small" th:text="${'S2-' + ((stat.index + 1) < 10 ? '0' + (stat.index + 1) : (stat.index + 1))}">S2-01</td>

                        <td class="text-wrap py-3 pe-3">
                            <span class="fw-medium text-dark d-block" th:text="${item.titulo}">Pregunta larga</span>
                        </td>

                        <td>
                            <span class="badge rounded-pill bg-light text-secondary border small" th:text="${item.descripcion}">General</span>
                        </td>

                        <td class="text-center">
                            <div class="btn-group" role="group">
                                <input type="radio" class="btn-check" th:name="${'btnradio'+item.id}" th:id="${'ok'+item.id}" autocomplete="off" th:attr="onclick=|actualizarEstado(${item.id}, 'OK')|">
                                <label class="btn btn-outline-success btn-sm" th:for="${'ok'+item.id}">Si</label>

                                <input type="radio" class="btn-check" th:name="${'btnradio'+item.id}" th:id="${'no'+item.id}" autocomplete="off" th:attr="onclick=|actualizarEstado(${item.id}, 'NOK')|">
                                <label class="btn btn-outline-danger btn-sm" th:for="${'no'+item.id}">No</label>
                            </div>
                        </td>

                        <td class="text-end pe-4">
                            <button class="btn btn-sm btn-light text-primary border-0 hover-bg-gray" title="Subir Archivo">
                                <i class="bi bi-cloud-upload fs-5"></i>
                            </button>
                            <button class="btn btn-sm btn-light text-muted border-0" title="Comentario" th:attr="onclick=|guardarComentario(${item.id})|">
                                <i class="bi bi-chat-left-text" th:classappend="${item.comentario != null} ? 'text-primary' : ''"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
</body>
</html>
